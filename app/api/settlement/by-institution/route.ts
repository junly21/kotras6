import { NextResponse } from "next/server";
import { createCorsHeaders } from "../../utils/externalApi";

export async function POST(request: Request) {
  try {
    console.log("정산결과 기관별 조회 API 호출됨 (Mock)");

    const body = await request.json();
    console.log("정산결과 기관별 조회 요청 데이터:", body);

    // 더미 데이터 생성 - 기준 기관별로 다른 기관들과의 거래 내역
    const mockSettlementData = [
      // 한국철도공사 기준
      {
        oper_id: "211100000", // 기준 기관: 한국철도공사
        oper_nm: "서울교통공사",
        payment_amount: 325000000,
        receipt_amount: 318000000,
        total_amount: 643000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "인천교통공사",
        payment_amount: 285000000,
        receipt_amount: 278000000,
        total_amount: 563000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "공항철도",
        payment_amount: 245000000,
        receipt_amount: 238000000,
        total_amount: 483000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 225000000,
        receipt_amount: 218000000,
        total_amount: 443000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "신분당선",
        payment_amount: 195000000,
        receipt_amount: 188000000,
        total_amount: 383000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "의정부경전철",
        payment_amount: 145000000,
        receipt_amount: 138000000,
        total_amount: 283000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "용인경전철",
        payment_amount: 125000000,
        receipt_amount: 118000000,
        total_amount: 243000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "경기철도",
        payment_amount: 155000000,
        receipt_amount: 148000000,
        total_amount: 303000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "우이신설경전철",
        payment_amount: 135000000,
        receipt_amount: 128000000,
        total_amount: 263000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "김포시청",
        payment_amount: 105000000,
        receipt_amount: 98000000,
        total_amount: 203000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "신림선",
        payment_amount: 175000000,
        receipt_amount: 168000000,
        total_amount: 343000000,
      },
      {
        oper_id: "211100000",
        oper_nm: "새서울철도",
        payment_amount: 185000000,
        receipt_amount: 178000000,
        total_amount: 363000000,
      },

      // 서울교통공사 기준
      {
        oper_id: "211000000", // 기준 기관: 서울교통공사
        oper_nm: "한국철도공사",
        payment_amount: 318000000,
        receipt_amount: 325000000,
        total_amount: 643000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "인천교통공사",
        payment_amount: 278000000,
        receipt_amount: 285000000,
        total_amount: 563000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "공항철도",
        payment_amount: 238000000,
        receipt_amount: 245000000,
        total_amount: 483000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 218000000,
        receipt_amount: 225000000,
        total_amount: 443000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "신분당선",
        payment_amount: 188000000,
        receipt_amount: 195000000,
        total_amount: 383000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "의정부경전철",
        payment_amount: 138000000,
        receipt_amount: 145000000,
        total_amount: 283000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "용인경전철",
        payment_amount: 118000000,
        receipt_amount: 125000000,
        total_amount: 243000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "경기철도",
        payment_amount: 148000000,
        receipt_amount: 155000000,
        total_amount: 303000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "우이신설경전철",
        payment_amount: 128000000,
        receipt_amount: 135000000,
        total_amount: 263000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "김포시청",
        payment_amount: 98000000,
        receipt_amount: 105000000,
        total_amount: 203000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "신림선",
        payment_amount: 168000000,
        receipt_amount: 175000000,
        total_amount: 343000000,
      },
      {
        oper_id: "211000000",
        oper_nm: "새서울철도",
        payment_amount: 178000000,
        receipt_amount: 185000000,
        total_amount: 363000000,
      },

      // 인천교통공사 기준
      {
        oper_id: "228400000", // 기준 기관: 인천교통공사
        oper_nm: "한국철도공사",
        payment_amount: 285000000,
        receipt_amount: 278000000,
        total_amount: 563000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "서울교통공사",
        payment_amount: 278000000,
        receipt_amount: 285000000,
        total_amount: 563000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "공항철도",
        payment_amount: 198000000,
        receipt_amount: 205000000,
        total_amount: 403000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 178000000,
        receipt_amount: 185000000,
        total_amount: 363000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "신분당선",
        payment_amount: 148000000,
        receipt_amount: 155000000,
        total_amount: 303000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "의정부경전철",
        payment_amount: 98000000,
        receipt_amount: 105000000,
        total_amount: 203000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "용인경전철",
        payment_amount: 78000000,
        receipt_amount: 85000000,
        total_amount: 163000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "경기철도",
        payment_amount: 108000000,
        receipt_amount: 115000000,
        total_amount: 223000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "우이신설경전철",
        payment_amount: 88000000,
        receipt_amount: 95000000,
        total_amount: 183000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "김포시청",
        payment_amount: 58000000,
        receipt_amount: 65000000,
        total_amount: 123000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "신림선",
        payment_amount: 128000000,
        receipt_amount: 135000000,
        total_amount: 263000000,
      },
      {
        oper_id: "228400000",
        oper_nm: "새서울철도",
        payment_amount: 138000000,
        receipt_amount: 145000000,
        total_amount: 283000000,
      },

      // 공항철도 기준
      {
        oper_id: "212100000", // 기준 기관: 공항철도
        oper_nm: "한국철도공사",
        payment_amount: 245000000,
        receipt_amount: 238000000,
        total_amount: 483000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "서울교통공사",
        payment_amount: 238000000,
        receipt_amount: 245000000,
        total_amount: 483000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "인천교통공사",
        payment_amount: 205000000,
        receipt_amount: 198000000,
        total_amount: 403000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 185000000,
        receipt_amount: 178000000,
        total_amount: 363000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "신분당선",
        payment_amount: 155000000,
        receipt_amount: 148000000,
        total_amount: 303000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "의정부경전철",
        payment_amount: 105000000,
        receipt_amount: 98000000,
        total_amount: 203000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "용인경전철",
        payment_amount: 85000000,
        receipt_amount: 78000000,
        total_amount: 163000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "경기철도",
        payment_amount: 115000000,
        receipt_amount: 108000000,
        total_amount: 223000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "우이신설경전철",
        payment_amount: 95000000,
        receipt_amount: 88000000,
        total_amount: 183000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "김포시청",
        payment_amount: 65000000,
        receipt_amount: 58000000,
        total_amount: 123000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "신림선",
        payment_amount: 135000000,
        receipt_amount: 128000000,
        total_amount: 263000000,
      },
      {
        oper_id: "212100000",
        oper_nm: "새서울철도",
        payment_amount: 145000000,
        receipt_amount: 138000000,
        total_amount: 283000000,
      },

      // 서울시메트로9호선 기준
      {
        oper_id: "212000000", // 기준 기관: 서울시메트로9호선
        oper_nm: "한국철도공사",
        payment_amount: 225000000,
        receipt_amount: 218000000,
        total_amount: 443000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "서울교통공사",
        payment_amount: 218000000,
        receipt_amount: 225000000,
        total_amount: 443000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "인천교통공사",
        payment_amount: 178000000,
        receipt_amount: 185000000,
        total_amount: 363000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "공항철도",
        payment_amount: 178000000,
        receipt_amount: 185000000,
        total_amount: 363000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "신분당선",
        payment_amount: 148000000,
        receipt_amount: 155000000,
        total_amount: 303000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "의정부경전철",
        payment_amount: 98000000,
        receipt_amount: 105000000,
        total_amount: 203000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "용인경전철",
        payment_amount: 78000000,
        receipt_amount: 85000000,
        total_amount: 163000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "경기철도",
        payment_amount: 108000000,
        receipt_amount: 115000000,
        total_amount: 223000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "우이신설경전철",
        payment_amount: 88000000,
        receipt_amount: 95000000,
        total_amount: 183000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "김포시청",
        payment_amount: 58000000,
        receipt_amount: 65000000,
        total_amount: 123000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "신림선",
        payment_amount: 128000000,
        receipt_amount: 135000000,
        total_amount: 263000000,
      },
      {
        oper_id: "212000000",
        oper_nm: "새서울철도",
        payment_amount: 138000000,
        receipt_amount: 145000000,
        total_amount: 283000000,
      },

      // 신분당선 기준
      {
        oper_id: "212300000", // 기준 기관: 신분당선
        oper_nm: "한국철도공사",
        payment_amount: 195000000,
        receipt_amount: 188000000,
        total_amount: 383000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "서울교통공사",
        payment_amount: 188000000,
        receipt_amount: 195000000,
        total_amount: 383000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "인천교통공사",
        payment_amount: 148000000,
        receipt_amount: 155000000,
        total_amount: 303000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "공항철도",
        payment_amount: 148000000,
        receipt_amount: 155000000,
        total_amount: 303000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 155000000,
        receipt_amount: 148000000,
        total_amount: 303000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "의정부경전철",
        payment_amount: 75000000,
        receipt_amount: 82000000,
        total_amount: 157000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "용인경전철",
        payment_amount: 55000000,
        receipt_amount: 62000000,
        total_amount: 117000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "경기철도",
        payment_amount: 85000000,
        receipt_amount: 92000000,
        total_amount: 177000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "우이신설경전철",
        payment_amount: 65000000,
        receipt_amount: 72000000,
        total_amount: 137000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "김포시청",
        payment_amount: 35000000,
        receipt_amount: 42000000,
        total_amount: 77000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "신림선",
        payment_amount: 98000000,
        receipt_amount: 105000000,
        total_amount: 203000000,
      },
      {
        oper_id: "212300000",
        oper_nm: "새서울철도",
        payment_amount: 108000000,
        receipt_amount: 115000000,
        total_amount: 223000000,
      },

      // 의정부경전철 기준
      {
        oper_id: "241100000", // 기준 기관: 의정부경전철
        oper_nm: "한국철도공사",
        payment_amount: 145000000,
        receipt_amount: 138000000,
        total_amount: 283000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "서울교통공사",
        payment_amount: 138000000,
        receipt_amount: 145000000,
        total_amount: 283000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "인천교통공사",
        payment_amount: 98000000,
        receipt_amount: 105000000,
        total_amount: 203000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "공항철도",
        payment_amount: 98000000,
        receipt_amount: 105000000,
        total_amount: 203000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 105000000,
        receipt_amount: 98000000,
        total_amount: 203000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "신분당선",
        payment_amount: 82000000,
        receipt_amount: 75000000,
        total_amount: 157000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "용인경전철",
        payment_amount: 62000000,
        receipt_amount: 55000000,
        total_amount: 117000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "경기철도",
        payment_amount: 92000000,
        receipt_amount: 85000000,
        total_amount: 177000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "우이신설경전철",
        payment_amount: 72000000,
        receipt_amount: 65000000,
        total_amount: 137000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "김포시청",
        payment_amount: 42000000,
        receipt_amount: 35000000,
        total_amount: 77000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "신림선",
        payment_amount: 105000000,
        receipt_amount: 98000000,
        total_amount: 203000000,
      },
      {
        oper_id: "241100000",
        oper_nm: "새서울철도",
        payment_amount: 115000000,
        receipt_amount: 108000000,
        total_amount: 223000000,
      },

      // 용인경전철 기준
      {
        oper_id: "241000000", // 기준 기관: 용인경전철
        oper_nm: "한국철도공사",
        payment_amount: 125000000,
        receipt_amount: 118000000,
        total_amount: 243000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "서울교통공사",
        payment_amount: 118000000,
        receipt_amount: 125000000,
        total_amount: 243000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "인천교통공사",
        payment_amount: 78000000,
        receipt_amount: 85000000,
        total_amount: 163000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "공항철도",
        payment_amount: 78000000,
        receipt_amount: 85000000,
        total_amount: 163000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 85000000,
        receipt_amount: 78000000,
        total_amount: 163000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "신분당선",
        payment_amount: 55000000,
        receipt_amount: 62000000,
        total_amount: 117000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "의정부경전철",
        payment_amount: 55000000,
        receipt_amount: 62000000,
        total_amount: 117000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "경기철도",
        payment_amount: 75000000,
        receipt_amount: 82000000,
        total_amount: 157000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "우이신설경전철",
        payment_amount: 55000000,
        receipt_amount: 62000000,
        total_amount: 117000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "김포시청",
        payment_amount: 25000000,
        receipt_amount: 32000000,
        total_amount: 57000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "신림선",
        payment_amount: 85000000,
        receipt_amount: 92000000,
        total_amount: 177000000,
      },
      {
        oper_id: "241000000",
        oper_nm: "새서울철도",
        payment_amount: 95000000,
        receipt_amount: 102000000,
        total_amount: 197000000,
      },

      // 경기철도 기준
      {
        oper_id: "212600000", // 기준 기관: 경기철도
        oper_nm: "한국철도공사",
        payment_amount: 155000000,
        receipt_amount: 148000000,
        total_amount: 303000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "서울교통공사",
        payment_amount: 148000000,
        receipt_amount: 155000000,
        total_amount: 303000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "인천교통공사",
        payment_amount: 108000000,
        receipt_amount: 115000000,
        total_amount: 223000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "공항철도",
        payment_amount: 108000000,
        receipt_amount: 115000000,
        total_amount: 223000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 115000000,
        receipt_amount: 108000000,
        total_amount: 223000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "신분당선",
        payment_amount: 85000000,
        receipt_amount: 92000000,
        total_amount: 177000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "의정부경전철",
        payment_amount: 85000000,
        receipt_amount: 92000000,
        total_amount: 177000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "용인경전철",
        payment_amount: 75000000,
        receipt_amount: 82000000,
        total_amount: 157000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "우이신설경전철",
        payment_amount: 75000000,
        receipt_amount: 82000000,
        total_amount: 157000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "김포시청",
        payment_amount: 45000000,
        receipt_amount: 52000000,
        total_amount: 97000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "신림선",
        payment_amount: 105000000,
        receipt_amount: 112000000,
        total_amount: 217000000,
      },
      {
        oper_id: "212600000",
        oper_nm: "새서울철도",
        payment_amount: 115000000,
        receipt_amount: 122000000,
        total_amount: 237000000,
      },

      // 우이신설경전철 기준
      {
        oper_id: "241200000", // 기준 기관: 우이신설경전철
        oper_nm: "한국철도공사",
        payment_amount: 135000000,
        receipt_amount: 128000000,
        total_amount: 263000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "서울교통공사",
        payment_amount: 128000000,
        receipt_amount: 135000000,
        total_amount: 263000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "인천교통공사",
        payment_amount: 88000000,
        receipt_amount: 95000000,
        total_amount: 183000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "공항철도",
        payment_amount: 88000000,
        receipt_amount: 95000000,
        total_amount: 183000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 95000000,
        receipt_amount: 88000000,
        total_amount: 183000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "신분당선",
        payment_amount: 65000000,
        receipt_amount: 72000000,
        total_amount: 137000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "의정부경전철",
        payment_amount: 65000000,
        receipt_amount: 72000000,
        total_amount: 137000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "용인경전철",
        payment_amount: 55000000,
        receipt_amount: 62000000,
        total_amount: 117000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "경기철도",
        payment_amount: 75000000,
        receipt_amount: 82000000,
        total_amount: 157000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "김포시청",
        payment_amount: 35000000,
        receipt_amount: 42000000,
        total_amount: 77000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "신림선",
        payment_amount: 95000000,
        receipt_amount: 102000000,
        total_amount: 197000000,
      },
      {
        oper_id: "241200000",
        oper_nm: "새서울철도",
        payment_amount: 105000000,
        receipt_amount: 112000000,
        total_amount: 217000000,
      },

      // 김포시청 기준
      {
        oper_id: "241300000", // 기준 기관: 김포시청
        oper_nm: "한국철도공사",
        payment_amount: 105000000,
        receipt_amount: 98000000,
        total_amount: 203000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "서울교통공사",
        payment_amount: 98000000,
        receipt_amount: 105000000,
        total_amount: 203000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "인천교통공사",
        payment_amount: 58000000,
        receipt_amount: 65000000,
        total_amount: 123000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "공항철도",
        payment_amount: 58000000,
        receipt_amount: 65000000,
        total_amount: 123000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 65000000,
        receipt_amount: 58000000,
        total_amount: 123000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "신분당선",
        payment_amount: 35000000,
        receipt_amount: 42000000,
        total_amount: 77000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "의정부경전철",
        payment_amount: 35000000,
        receipt_amount: 42000000,
        total_amount: 77000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "용인경전철",
        payment_amount: 25000000,
        receipt_amount: 32000000,
        total_amount: 57000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "경기철도",
        payment_amount: 45000000,
        receipt_amount: 52000000,
        total_amount: 97000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "우이신설경전철",
        payment_amount: 35000000,
        receipt_amount: 42000000,
        total_amount: 77000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "신림선",
        payment_amount: 75000000,
        receipt_amount: 82000000,
        total_amount: 157000000,
      },
      {
        oper_id: "241300000",
        oper_nm: "새서울철도",
        payment_amount: 85000000,
        receipt_amount: 92000000,
        total_amount: 177000000,
      },

      // 신림선 기준
      {
        oper_id: "241400000", // 기준 기관: 신림선
        oper_nm: "한국철도공사",
        payment_amount: 175000000,
        receipt_amount: 168000000,
        total_amount: 343000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "서울교통공사",
        payment_amount: 168000000,
        receipt_amount: 175000000,
        total_amount: 343000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "인천교통공사",
        payment_amount: 128000000,
        receipt_amount: 135000000,
        total_amount: 263000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "공항철도",
        payment_amount: 128000000,
        receipt_amount: 135000000,
        total_amount: 263000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 135000000,
        receipt_amount: 128000000,
        total_amount: 263000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "신분당선",
        payment_amount: 98000000,
        receipt_amount: 105000000,
        total_amount: 203000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "의정부경전철",
        payment_amount: 98000000,
        receipt_amount: 105000000,
        total_amount: 203000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "용인경전철",
        payment_amount: 85000000,
        receipt_amount: 92000000,
        total_amount: 177000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "경기철도",
        payment_amount: 105000000,
        receipt_amount: 112000000,
        total_amount: 217000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "우이신설경전철",
        payment_amount: 95000000,
        receipt_amount: 102000000,
        total_amount: 197000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "김포시청",
        payment_amount: 75000000,
        receipt_amount: 82000000,
        total_amount: 157000000,
      },
      {
        oper_id: "241400000",
        oper_nm: "새서울철도",
        payment_amount: 115000000,
        receipt_amount: 122000000,
        total_amount: 237000000,
      },

      // 새서울철도 기준
      {
        oper_id: "212800000", // 기준 기관: 새서울철도
        oper_nm: "한국철도공사",
        payment_amount: 185000000,
        receipt_amount: 178000000,
        total_amount: 363000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "서울교통공사",
        payment_amount: 178000000,
        receipt_amount: 185000000,
        total_amount: 363000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "인천교통공사",
        payment_amount: 138000000,
        receipt_amount: 145000000,
        total_amount: 283000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "공항철도",
        payment_amount: 138000000,
        receipt_amount: 145000000,
        total_amount: 283000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "서울시메트로9호선",
        payment_amount: 145000000,
        receipt_amount: 138000000,
        total_amount: 283000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "신분당선",
        payment_amount: 108000000,
        receipt_amount: 115000000,
        total_amount: 223000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "의정부경전철",
        payment_amount: 108000000,
        receipt_amount: 115000000,
        total_amount: 223000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "용인경전철",
        payment_amount: 95000000,
        receipt_amount: 102000000,
        total_amount: 197000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "경기철도",
        payment_amount: 115000000,
        receipt_amount: 122000000,
        total_amount: 237000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "우이신설경전철",
        payment_amount: 105000000,
        receipt_amount: 112000000,
        total_amount: 217000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "김포시청",
        payment_amount: 85000000,
        receipt_amount: 92000000,
        total_amount: 177000000,
      },
      {
        oper_id: "212800000",
        oper_nm: "신림선",
        payment_amount: 115000000,
        receipt_amount: 122000000,
        total_amount: 237000000,
      },
    ];

    // 필터링 로직 - oper_id로 매칭
    let filteredData = mockSettlementData;

    if (body.agency && body.agency !== "" && body.agency !== "ALL") {
      filteredData = mockSettlementData.filter(
        (item) => item.oper_id === body.agency
      );
    }

    return NextResponse.json(filteredData, { headers: createCorsHeaders() });
  } catch (error) {
    console.error("정산결과 기관별 조회 API 처리 중 오류 발생:", error);
    // 에러 발생 시에도 빈 배열 반환
    return NextResponse.json([], { headers: createCorsHeaders() });
  }
}
